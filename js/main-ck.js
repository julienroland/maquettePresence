(function(e){var t=e(".nav"),n="#000",r=["web"],i=e(".day").find(".sceances"),s=e(".overlay"),o=e(".popupCreerCours"),u=e(".popupModifierCours"),a=e(".popupSupprimerCours"),f=e(".popupVoirCours"),l=e(".elevesDuCours .eleve"),c=e(".actions"),h=e(".actionsPresence"),p=e(".ligneSceances"),d=e(".popupModifierSceanceLigne"),v=e(".popupSupprimerSceanceLigne"),m,g,y,b,w,E=[],S=[],x,T;e(function(){A();e.each(e(".mesCours").find(".cours"),function(){var t=e(this).attr("data-type");t==="web"&&e(this).find(".titre > h3").css({color:n})});i&&e.each(i,function(){e(this).parent(".day").find(".number").css({color:"white"})});e(".menuLow").on("click",z);e(".popupCreerCours .close").on("click","a",W);e(".popupModifierCours .close").on("click","a",W);e(".popupSupprimerCours .close").on("click","a",W);e(".close").on("click","a",W);e(".delete").on("click",X);e('.helper a[data-link="creer"').on("click",I);e('.helper a[data-link="modifier"').on("click",q);e('.helper a[data-link="supprimer"').on("click",R);e('.helper a[data-link="voir"').on("click",U);e("#color").change(function(){console.log(e("#color").val())});s.on("click",j);e(".helper.voirCours .groupe li").on("click","a",B);e(".helper.voirCours .presence li").on("click","a",H);e(".sceancesMois li").on("click","a",D);c.on("click","a.modifier",_);c.on("click","a.supprimer",M);h.find(".present").on("click",N);h.find(".justifier").on("click",C);h.find(".absent").on("click",k);h.find(".aucune").on("click",L);e(".elevesDuCours .eleve").on("click","a",P);e('a[href^="#"]').click(function(){var t=e(this).attr("href");e("html, body").animate({scrollTop:e(t).offset().top},"slow");return!1})});var N=function(t){t.preventDefault();if(O(g,m,e(this).attr("data-presence"))){$that=l.find('.nom[data-slug="'+g+'"]');b=e(this).attr("data-presence");$that.css({color:S[b]})}},C=function(t){t.preventDefault();if(O(g,m,e(this).attr("data-presence"))){$that=l.find('.nom[data-slug="'+g+'"]');b=e(this).attr("data-presence");$that.css({color:S[b]})}},k=function(t){t.preventDefault();if(O(g,m,e(this).attr("data-presence"))){$that=l.find('.nom[data-slug="'+g+'"]');b=e(this).attr("data-presence");$that.css({color:S[b]})}},L=function(t){t.preventDefault();if(O(g,m,e(this).attr("data-presence"))){$that=l.find('.nom[data-slug="'+g+'"]');b=e(this).attr("data-presence");$that.css({color:S[b]})}},A=function(){e.ajax({async:!1,url:"config.json",success:function(e){w=e.color.cours;oColorPresence=e.color.presence;for(var t=0;t<=w.length-1;t++)E[w[t].cours]=w[t].color;for(var t=0;t<=oColorPresence.length-1;t++)S[oColorPresence[t].presence]=oColorPresence[t].color}})},O=function(e,t,n){return!0},M=function(e){e.preventDefault();x=e.pageX;T=e.pageY;v.css({top:T+125,left:130}).fadeIn();F(v);d.hide()},_=function(e){e.preventDefault();x=e.pageX;T=e.pageY;d.css({top:T+125,left:0}).fadeIn();F(d);v.hide()},D=function(e){e.preventDefault();x=e.pageX;T=e.pageY;c.css({top:T+25,left:x-100}).fadeIn("fast")},P=function(t){t.preventDefault();x=t.pageX;T=t.pageY;g=e(this).find(".nom").attr("data-slug");y=e(this).find(".groupe").attr("data-groupe");m=Number(e(".gererMaSceance").attr("data-sceance"));h.css({top:T+50,left:x}).fadeIn("fast")},H=function(t){t.preventDefault();if(e(this).attr("data-link")==="presence"){e(this).attr("data-link","image");e(this).html("Revoir les photos");e(".presenceGroupe").fadeIn();e.each(l,function(){e(this).find("img").hide();e(this).find(".percent span").html("70%");e(this).find(".percent").show()})}else{e(this).attr("data-link","presence");e(this).html("Voir les prÃ©sences");e(".presenceGroupe").fadeOut();e.each(l,function(){e(this).find(".percent").hide();e(this).find("img").show()})}},B=function(t){t.preventDefault();e(".helper.voirCours .groupe li.active").removeClass("active");e(this).parent().addClass("active");e(".helper.voirCours .presence li > a").attr("data-groupe",e(this).attr("data-groupe"));if(e(this).attr("data-link")==="tri")if(e(this).attr("data-groupe")!=="all"){var n=e(this).attr("data-groupe"),r=e(this);e.each(l,function(){e(this).find(".groupe").attr("data-groupe")!==n?e(this).fadeOut():e(this).fadeIn()})}else e.each(l,function(){e(this).fadeIn()})},j=function(e){e.preventDefault();s.fadeOut();c.fadeOut();d.fadeOut();v.fadeOut();o.fadeOut();u.fadeOut();a.fadeOut();f.fadeOut()},F=function(t){e("html, body").animate({scrollTop:t.offset().top},1e3,function(){s.css({height:e(window).height(),width:e(window).width(),display:"block"})})},I=function(e){e.preventDefault();o.fadeIn();F(o);u.hide();a.hide();f.hide()},q=function(e){e.preventDefault();u.fadeIn();F(u);o.hide();a.hide();f.hide()},R=function(e){e.preventDefault();a.fadeIn();F(a);u.hide();o.hide();f.hide()},U=function(e){e.preventDefault();f.fadeIn();F(f);u.hide();a.hide();o.hide()},z=function(t){t.preventDefault();var n=e(this).parent(".wrapper").find(".menu");n.slideToggle().css({boxShadow:"rgba(0,0,0,0.4) 0 3px 3px 0","-webkit-boxShadow":"rgba(0,0,0,0.4) 0 3px 3px 0",backgroundColor:"#5097bd"})},W=function(t){t.preventDefault();e(this).parent().parent().fadeOut("fast");s.fadeOut();c.fadeOut()},X=function(t){t.preventDefault();e(this).parent().fadeOut()}}).call(this,jQuery);